(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["VerifyReport"],{"167f":function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,".verifyContent[data-v-57bfffb5]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.verifyContent[data-v-57bfffb5]{width:50%}}@media only screen and (min-width:1400px){.verifyContent[data-v-57bfffb5]{width:40%}}",""]),e.exports=t},"3d0d":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r("4de4"),r("4160"),r("b64b"),r("159b"),r("96cf");var n=r("1da1"),a=r("af53"),c=r("bc3a"),o=r.n(c),i={getVerificationList:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n,c,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("covWebItem"),r=localStorage.getItem(t),t&&r&&""!==t&&""!==r){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,n="/api/v1/verification",c=o.a.create({baseURL:a["a"].baseURL,headers:{Authorization:r}}),e.next=10,c.get(n);case 10:return i=e.sent,u=i.data,e.abrupt("return",u);case 15:return e.prev=15,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));function t(){return e.apply(this,arguments)}return t}(),createVerification:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c,i,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,c="/api/v1/verification",i=o.a.create({baseURL:a["a"].baseURL,headers:{Authorization:n}}),e.next=10,i.post(c,{credentialId:t});case 10:return u=e.sent,s=u.data,e.abrupt("return",s);case 15:return e.prev=15,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));function t(t){return e.apply(this,arguments)}return t}(),getVerifyQrcodeInfo:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c,i,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,c="/api/v1/verification/qrcode?verificationQrcodeId=".concat(t),i=o.a.create({baseURL:a["a"].baseURL,headers:{Authorization:n}}),e.next=10,i.get(c);case 10:return u=e.sent,s=u.data,console.group("%c getVerifyQrcodeInfo","color:yellow"),console.log(s),console.groupEnd(),e.abrupt("return",s);case 18:return e.prev=18,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));function t(t){return e.apply(this,arguments)}return t}(),createVerifyQrcodeForUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n,c,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("covWebItem"),r=localStorage.getItem(t),t&&r&&""!==t&&""!==r){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,n="/api/v1/verification/qrcode",c=o.a.create({baseURL:a["a"].baseURL,headers:{Authorization:r}}),e.next=10,c.post(n);case 10:return i=e.sent,u=i.data,console.group("%c createVerifyQrcodeForUser","color:yellow"),console.log(u),console.groupEnd(),e.abrupt("return",u);case 18:return e.prev=18,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));function t(){return e.apply(this,arguments)}return t}(),UserVerification:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c,i,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,c="/api/v1/wallet/verification",i=o.a.create({baseURL:a["a"].baseURL,headers:{Authorization:n}}),e.next=10,i.post(c,{verificationId:t});case 10:return u=e.sent,s=u.data,console.group("%c UserVerification","color:yellow"),console.log(s),console.groupEnd(),e.abrupt("return",s);case 18:return e.prev=18,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 22:case"end":return e.stop()}}),e,null,[[5,18]])})));function t(t){return e.apply(this,arguments)}return t}(),PrintVerification:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,c,i,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=localStorage.getItem("covWebItem"),n=localStorage.getItem(r),r&&n&&""!==r&&""!==n){e.next=5;break}return console.error("no Authorization"),e.abrupt("return");case 5:return e.prev=5,c="/api/v1/print/verification",i=o.a.create({baseURL:a["a"].baseURL,headers:{Authorization:n}}),e.next=10,i.get(c,{verificationId:t});case 10:return u=e.sent,s=u.data,e.abrupt("return",s);case 15:return e.prev=15,e.t0=e["catch"](5),console.error("error : ".concat(e.t0)),e.abrupt("return",{success:!1});case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));function t(t){return e.apply(this,arguments)}return t}()},u=r("7a23"),s=Object(u["u"])({_id:"",verificationId:"",definitionId:"",state:"",createdAt:-1,updatedAt:-1,policy:{name:"",version:"",attributes:[]},proof:{}});function l(){var e=Object(u["v"])(null),t=Object(u["v"])({title:"",status:""}),r=Object(u["v"])(""),a=Object(u["v"])(""),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==r.value){e.next=2;break}return e.abrupt("return",{success:!1,msg:"Not Acquire CredentialId"});case 2:return t.value.title="Loading...",t.value.status="loading",e.next=6,i.createVerification(r.value);case 6:if(n=e.sent,n&&n.success){e.next=10;break}return console.error("createVerification error"),e.abrupt("return",{success:!1,msg:"Request fail"});case 10:return a=n.data,s._id=a._id,s.verificationId=a.verificationId,s.definitionId=a.definitionId,s.state=a.state,s.createdAt=a.createdAt,s.updatedAt=a.updatedAt,s.policy=a.policy,s.proof=a.proof,e.abrupt("return",{success:!0,msg:"Success"});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(u["d"])((function(){var e=Object.keys(s).filter((function(e){return"policy"!==e&&"proof"!==e})),t={};return e.forEach((function(e){t[e]=s[e]})),t})),l=Object(u["d"])((function(){if(!s["policy"]||!s["policy"].attributes||0===!s["policy"].attributes.length||!s["policy"].attributes[0]||!s["policy"].attributes[0].policyName)return[];var e=s["policy"].attributes[0].policyName;return s["proof"][e].attributes})),f=function(){t.value.title="",t.value.status=""},b=function(e){var r=e.title,n=e.status;t.value.title=r,t.value.status=n,setTimeout((function(){t.value.title="",t.value.status=""}),1500)},p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.createVerifyQrcodeForUser();case 2:if(t=e.sent,t&&t.success){e.next=6;break}return console.error("createVerification error"),e.abrupt("return",{success:!1,msg:"Request fail"});case 6:return a.value=t.data.verificationId,e.abrupt("return",{success:!0,msg:"Success"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.getVerifyQrcodeInfo(t);case 2:if(r=e.sent,r&&r.success){e.next=6;break}return console.error("keepGetQrcodeInfo error"),e.abrupt("return",{success:!1,data:"Request fail"});case 6:return e.abrupt("return",{success:!0,data:r.data});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==r.value){e.next=2;break}return e.abrupt("return",{success:!1,msg:"Not Acquire CredentialId"});case 2:return t.value.title="Loading...",t.value.status="loading",console.group("%c verifyCredentialId.value","color:yellow"),console.log(r.value),console.groupEnd(),e.next=9,i.UserVerification(r.value);case 9:if(n=e.sent,n&&n.success){e.next=13;break}return console.error("userScanQrcode error"),e.abrupt("return",{success:!1,msg:"Request fail"});case 13:return e.abrupt("return",{success:!0});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u["p"])((function(){e.value&&(clearInterval(e.value),e.value=null)})),{tmpInterval:e,verifyResult:s,mainThemeResult:o,proofAttribute:l,currentVerifyStatus:t,verifyCredentialId:r,verifyQrcodeForUser:a,sendVerify:c,closeVerifyAlert:f,normalVerifyAlert:b,genQrcodeForUser:p,keepGetQrcodeInfo:d,userScanQrcode:v}}},6135:function(e,t,r){"use strict";r.r(t);r("b64b");var n=r("7a23"),a=Object(n["K"])("data-v-57bfffb5");Object(n["t"])("data-v-57bfffb5");var c={class:"verifyContent py-12 sm:mt-12 sm:shadow-2xl sm:rounded mx-auto sm:bg-white"},o={key:0,class:"flex items-center justify-center mb-12"},i=Object(n["i"])("h2",{class:"text-xl font-bold"},"Test Result",-1),u={key:0,class:"text-lg text-green-600 font-bold"},s=Object(n["h"])(" NEGATIVE "),l=Object(n["i"])("br",null,null,-1),f=Object(n["h"])("Vaild "),b={key:1,class:"text-lg text-red-600 font-bold"},p=Object(n["h"])(" POSITIVE "),d=Object(n["i"])("br",null,null,-1),v=Object(n["h"])("Outdate "),g={class:"ml-12 sm:ml-20"},h={key:0,viewBox:"0 0 100 100",class:"w-16 stroke-current text-green-600"},j=Object(n["i"])("polyline",{"stroke-width":"6","stroke-linejoin":"round",fill:"transparent",points:"10,10 90,10 90,90 10,90 10,10"},null,-1),m=Object(n["i"])("polyline",{points:"25,50 40,75 75,25","stroke-width":"6","stroke-linejoin":"round","stroke-linecap":"round",fill:"transparent"},null,-1),O={key:1,viewBox:"0 0 100 100",class:"w-16 stroke-current text-red-600"},y=Object(n["i"])("polyline",{"stroke-width":"6","stroke-linejoin":"round",fill:"transparent",points:"10,10 90,10 90,90 10,90 10,10"},null,-1),x=Object(n["i"])("line",{"stroke-width":"6","stroke-linecap":"round",x1:"30",y1:"30",x2:"70",y2:"70"},null,-1),w=Object(n["i"])("line",{"stroke-width":"6","stroke-linecap":"round",x1:"30",y1:"70",x2:"70",y2:"30"},null,-1),k={class:"flex items-center justify-around"},R={class:"py-2"},I={class:"text-sm"},A={class:"border text-left px-3 py-1"},V={class:"border text-left text-blue-400 px-3 py-1"},U={key:0},E=Object(n["i"])("th",{colspan:"2",class:"px-3 py-1 text-center border"},"attributes",-1),S={class:"text-left px-3 py-1 border"},q={class:"text-left text-blue-400 px-3 py-1 border"},T={class:"mt-10 w-full mb-2 flex justify-around"};Object(n["r"])();var L=a((function(e,t){return Object(n["q"])(),Object(n["f"])("div",c,[!e.proofAttribute["Test Result"]||"DETECTED"!==e.proofAttribute["Test Result"]&&"NONDETECTED"!==e.proofAttribute["Test Result"]?Object(n["g"])("",!0):(Object(n["q"])(),Object(n["f"])("div",o,[Object(n["i"])("div",null,[i,"NONDETECTED"===e.proofAttribute["Test Result"]?(Object(n["q"])(),Object(n["f"])("p",u,[s,l,f])):(Object(n["q"])(),Object(n["f"])("p",b,[p,d,v]))]),Object(n["i"])("div",g,["NONDETECTED"===e.proofAttribute["Test Result"]?(Object(n["q"])(),Object(n["f"])("svg",h,[j,m])):(Object(n["q"])(),Object(n["f"])("svg",O,[y,x,w]))])])),Object(n["i"])("section",k,[Object(n["i"])("div",R,[Object(n["i"])("table",I,[(Object(n["q"])(!0),Object(n["f"])(n["a"],null,Object(n["w"])(Object.keys(e.mainThemeResult),(function(t){return Object(n["q"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("th",A,Object(n["A"])(t),1),Object(n["i"])("td",V,Object(n["A"])(e.verifyResult[t]),1)])})),128)),Object.keys(e.proofAttribute).length>0?(Object(n["q"])(),Object(n["f"])("tr",U,[E])):Object(n["g"])("",!0),(Object(n["q"])(!0),Object(n["f"])(n["a"],null,Object(n["w"])(Object.keys(e.proofAttribute),(function(t){return Object(n["q"])(),Object(n["f"])("tr",{key:t},[Object(n["i"])("th",S,Object(n["A"])(t),1),Object(n["i"])("td",q,Object(n["A"])(e.proofAttribute[t]),1)])})),128))])])]),Object(n["i"])("section",T,[Object(n["i"])("button",{onClick:t[1]||(t[1]=function(){return e.backtoScan.apply(e,arguments)}),class:"w-1/3 bg-gray-700 focus:outline-none hover:bg-gray-900 text-white font-medium py-2 px-4 rounded"},"Back")])])})),C=r("5530"),Q=r("b0af"),z=r("3d0d"),N=r("a18c"),D={name:"report",components:{},setup:function(){var e=Object(Q["a"])(),t=Object(z["a"])();e.regainLoginUser()||N["a"].push({name:"signIn"}),-1===e.userData.role&&console.error("login in success but not get role"),""===t.verifyResult._id&&N["a"].push("/scan"),0===Object.keys(t.verifyResult.proof).length&&N["a"].push("/scan");var r=Object(n["v"])(-1);r.value=e.userData.role,2!==r.value&&N["a"].push({name:"signIn"});var a=function(){N["a"].push("/scan")};return Object(C["a"])(Object(C["a"])({},t),{},{backtoScan:a,reportRole:r})}};r("b32a");D.render=L,D.__scopeId="data-v-57bfffb5";t["default"]=D},b32a:function(e,t,r){"use strict";r("efbf")},efbf:function(e,t,r){var n=r("167f");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("5f5d6120",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=VerifyReport.3ac6a11c.js.map