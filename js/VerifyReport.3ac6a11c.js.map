{"version":3,"sources":["webpack:///./src/views/home/VerifyReport.vue?700f","webpack:///./src/api/request/Verification.js","webpack:///./src/api/global/verifyResult.js","webpack:///./src/api/Verification.js","webpack:///./src/views/home/VerifyReport.vue","webpack:///./src/views/home/VerifyReport.vue?fd56","webpack:///./src/views/home/VerifyReport.vue?d753","webpack:///./src/views/home/VerifyReport.vue?18e9"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","getVerificationList","cluster","localStorage","getItem","token","console","error","url","instance","axios","create","baseURL","config","headers","Authorization","get","data","success","createVerification","credentialId","post","getVerifyQrcodeInfo","verificationQrcodeId","group","log","groupEnd","createVerifyQrcodeForUser","UserVerification","verificationId","PrintVerification","reactive","_id","definitionId","state","createdAt","updatedAt","policy","name","version","attributes","proof","Verification","tmpInterval","ref","currentVerifyStatus","title","status","verifyCredentialId","verifyQrcodeForUser","sendVerify","value","msg","VerificationModules","response","verData","verifyResult","mainThemeResult","computed","keys","Object","filter","item","oResult","forEach","proofAttribute","length","policyName","mainKey","closeVerifyAlert","normalVerifyAlert","setTimeout","genQrcodeForUser","keepGetQrcodeInfo","userScanQrcode","onUnmounted","clearInterval","class","viewBox","stroke-width","stroke-linejoin","fill","points","stroke-linecap","x1","y1","x2","y2","colspan","key","backtoScan","components","setup","loginModule","Login","verificationModule","regainLoginUser","router","userData","role","reportRole","render","__scopeId","content","locals","add","default"],"mappings":"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","file":"js/VerifyReport.3ac6a11c.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".verifyContent[data-v-57bfffb5]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.verifyContent[data-v-57bfffb5]{width:50%}}@media only screen and (min-width:1400px){.verifyContent[data-v-57bfffb5]{width:40%}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import config from \"./config.js\"\nimport axios from \"axios\"\n\nexport default {\n    // (postpone) 驗證者使用： 取得驗證列表\n    getVerificationList: async () => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = \"/api/v1/verification\"\n            const instance = axios.create({\n                baseURL: config.baseURL,\n                headers: {\n                    Authorization: token\n                }\n            })\n            const { data } = await instance.get(url)\n            return data\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 驗證者使用： 掃描 Qrcode 取得憑證 id， 進行驗證並返回驗證資訊\n    createVerification: async (credentialId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = \"/api/v1/verification\"\n            const instance = axios.create({\n                baseURL: config.baseURL,\n                headers: {\n                    Authorization: token\n                }\n            })\n            const { data } = await instance.post(url, {\n                credentialId\n            })\n            return data\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // TODO 驗證者使用： 取得驗證 qrcode 目前的狀態資訊\n    // this method will get current info and keep request after genQrcode (setInterval)\n    getVerifyQrcodeInfo: async (verificationQrcodeId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = `/api/v1/verification/qrcode?verificationQrcodeId=${verificationQrcodeId}`\n            const instance = axios.create({\n                baseURL: config.baseURL,\n                headers: {\n                    Authorization: token\n                }\n            })\n            const { data } = await instance.get(url)\n            console.group(`%c getVerifyQrcodeInfo`, 'color:yellow');\n            console.log(data);\n            console.groupEnd();\n            return data\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // TODO 驗證者使用： 產生驗證用 Qrcode 資訊，給使用者做掃描使用。\n    createVerifyQrcodeForUser: async () => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = \"/api/v1/verification/qrcode\"\n            const instance = axios.create({\n                baseURL: config.baseURL,\n                headers: {\n                    Authorization: token\n                }\n            })\n            const { data } = await instance.post(url)\n            console.group(`%c createVerifyQrcodeForUser`, 'color:yellow');\n            console.log(data);\n            console.groupEnd();\n            return data\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // TODO:使者使用： 掃描 Qrcode 取得驗證 id， 發送驗證驗證資訊\n    UserVerification: async (verificationId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = \"/api/v1/wallet/verification\"\n            const instance = axios.create({\n                baseURL: config.baseURL,\n                headers: {\n                    Authorization: token\n                }\n            })\n            const { data } = await instance.post(url, {\n                verificationId\n            })\n            console.group(`%c UserVerification`, 'color:yellow');\n            console.log(data);\n            console.groupEnd();\n            return data\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    },\n    // 取得列印的驗證資料 (print) no need to use\n    PrintVerification: async (verificationId) => {\n        const cluster = localStorage.getItem(\"covWebItem\")\n        const token = localStorage.getItem(cluster)\n        if (!cluster || !token || cluster === \"\" || token === \"\") {\n            console.error(\"no Authorization\");\n            return\n        }\n\n        try {\n            const url = \"/api/v1/print/verification\"\n            const instance = axios.create({\n                baseURL: config.baseURL,\n                headers: {\n                    Authorization: token\n                }\n            })\n            const { data } = await instance.get(url, {\n                verificationId\n            })\n            return data\n        } catch (error) {\n            console.error(`error : ${error}`);\n            return { success: false }\n        }\n    }\n}","import { reactive } from \"vue\"\nexport default reactive({\n    _id: \"\",\n    verificationId: \"\",\n    definitionId: \"\",\n    state: \"\",\n    createdAt: -1,\n    updatedAt: -1,\n    policy: {\n        name: \"\",\n        version: \"\",\n        attributes: [],\n    },\n    proof:{}\n})","\nimport VerificationModules from \"./request/Verification.js\"\nimport verifyResult from \"./global/verifyResult.js\"\nimport { ref, computed, onUnmounted } from \"vue\"\nexport default function Verification() {\n\n    const tmpInterval = ref(null)\n    const currentVerifyStatus = ref({\n        title: \"\",\n        status: \"\",\n    });\n\n    const verifyCredentialId = ref(\"\")\n    const verifyQrcodeForUser = ref(\"\")\n    const sendVerify = async () => {\n        if (verifyCredentialId.value === \"\") {\n            return {\n                success: false,\n                msg: \"Not Acquire CredentialId\",\n            }\n        }\n        currentVerifyStatus.value.title = \"Loading...\"\n        currentVerifyStatus.value.status = \"loading\"\n        const response = await VerificationModules.createVerification(verifyCredentialId.value)\n        if (!response || !response.success) {\n            console.error(\"createVerification error\");\n            return {\n                success: false,\n                msg: \"Request fail\",\n            }\n        }\n        const verData = response.data\n\n        verifyResult._id = verData._id\n        verifyResult.verificationId = verData.verificationId\n        verifyResult.definitionId = verData.definitionId\n        verifyResult.state = verData.state\n        verifyResult.createdAt = verData.createdAt\n        verifyResult.updatedAt = verData.updatedAt\n        verifyResult.policy = verData.policy\n        verifyResult.proof = verData.proof\n\n        return {\n            success: true,\n            msg: \"Success\",\n        }\n    }\n\n    const mainThemeResult = computed(() => {\n        const keys = Object.keys(verifyResult).filter(item => item !== \"policy\" && item !== \"proof\")\n        const oResult = {}\n        keys.forEach(item => {\n            oResult[item] = verifyResult[item]\n        })\n        return oResult\n    })\n\n    const proofAttribute = computed(() => {\n        if (!verifyResult[\"policy\"]\n            || !verifyResult[\"policy\"].attributes\n            || !verifyResult[\"policy\"].attributes.length === 0\n            || !verifyResult[\"policy\"].attributes[0]\n            || !verifyResult[\"policy\"].attributes[0].policyName\n        ) {\n            return []\n        }\n        const mainKey = verifyResult[\"policy\"].attributes[0].policyName\n        return verifyResult[\"proof\"][mainKey].attributes\n    })\n\n    const closeVerifyAlert = () => {\n        currentVerifyStatus.value.title = \"\"\n        currentVerifyStatus.value.status = \"\"\n    }\n\n    const normalVerifyAlert = ({ title, status }) => {\n        currentVerifyStatus.value.title = title\n        currentVerifyStatus.value.status = status\n        setTimeout(() => {\n            currentVerifyStatus.value.title = \"\"\n            currentVerifyStatus.value.status = \"\"\n        }, 1500);\n    }\n\n    const genQrcodeForUser = async () => {\n        const response = await VerificationModules.createVerifyQrcodeForUser()\n        if (!response || !response.success) {\n            console.error(\"createVerification error\");\n            return {\n                success: false,\n                msg: \"Request fail\",\n            }\n        }\n        verifyQrcodeForUser.value = response.data.verificationId\n\n        return {\n            success: true,\n            msg: \"Success\",\n        }\n    }\n\n    const keepGetQrcodeInfo = async (verificationQrcodeId) => {\n        const response = await VerificationModules.getVerifyQrcodeInfo(verificationQrcodeId)\n        if (!response || !response.success) {\n            console.error(\"keepGetQrcodeInfo error\");\n            return {\n                success: false,\n                data: \"Request fail\",\n            }\n        }\n\n        return {\n            success: true,\n            data: response.data,\n        }\n    }\n\n    const userScanQrcode = async () => {\n        if (verifyCredentialId.value === \"\") {\n            return {\n                success: false,\n                msg: \"Not Acquire CredentialId\",\n            }\n        }\n        currentVerifyStatus.value.title = \"Loading...\"\n        currentVerifyStatus.value.status = \"loading\"\n        console.group(`%c verifyCredentialId.value`, 'color:yellow');\n        console.log(verifyCredentialId.value);\n        console.groupEnd();\n        const response = await VerificationModules.UserVerification(verifyCredentialId.value)\n        if (!response || !response.success) {\n            console.error(\"userScanQrcode error\");\n            return {\n                success: false,\n                msg: \"Request fail\",\n            }\n        }\n        return {\n            success: true,\n        }\n    }\n    onUnmounted(() => {\n        if (tmpInterval.value) {\n            clearInterval(tmpInterval.value)\n            tmpInterval.value = null\n        }\n    })\n\n    return { tmpInterval, verifyResult, mainThemeResult, proofAttribute, currentVerifyStatus, verifyCredentialId, verifyQrcodeForUser, sendVerify, closeVerifyAlert, normalVerifyAlert, genQrcodeForUser, keepGetQrcodeInfo, userScanQrcode }\n}","<template>\n  <div class=\"verifyContent py-12 sm:mt-12 sm:shadow-2xl sm:rounded mx-auto sm:bg-white\">\n    <div\n      v-if=\"proofAttribute['Test Result'] && (proofAttribute['Test Result'] === 'DETECTED' || proofAttribute['Test Result'] === 'NONDETECTED')\"\n      class=\"flex items-center justify-center mb-12\"\n    >\n      <div>\n        <h2 class=\"text-xl font-bold\">Test Result</h2>\n        <p\n          v-if=\"proofAttribute['Test Result'] === 'NONDETECTED'\"\n          class=\"text-lg text-green-600 font-bold\"\n        >\n          NEGATIVE\n          <br />Vaild\n        </p>\n        <p v-else class=\"text-lg text-red-600 font-bold\">\n          POSITIVE\n          <br />Outdate\n        </p>\n      </div>\n      <div class=\"ml-12 sm:ml-20\">\n        <svg\n          v-if=\"proofAttribute['Test Result'] === 'NONDETECTED'\"\n          viewBox=\"0 0 100 100\"\n          class=\"w-16 stroke-current text-green-600\"\n        >\n          <polyline\n            stroke-width=\"6\"\n            stroke-linejoin=\"round\"\n            fill=\"transparent\"\n            points=\"10,10 90,10 90,90 10,90 10,10\"\n          />\n          <polyline\n            points=\"25,50 40,75 75,25\"\n            stroke-width=\"6\"\n            stroke-linejoin=\"round\"\n            stroke-linecap=\"round\"\n            fill=\"transparent\"\n          />\n        </svg>\n        <svg v-else viewBox=\"0 0 100 100\" class=\"w-16 stroke-current text-red-600\">\n          <polyline\n            stroke-width=\"6\"\n            stroke-linejoin=\"round\"\n            fill=\"transparent\"\n            points=\"10,10 90,10 90,90 10,90 10,10\"\n          />\n          <line stroke-width=\"6\" stroke-linecap=\"round\" x1=\"30\" y1=\"30\" x2=\"70\" y2=\"70\" />\n          <line stroke-width=\"6\" stroke-linecap=\"round\" x1=\"30\" y1=\"70\" x2=\"70\" y2=\"30\" />\n        </svg>\n      </div>\n    </div>\n    <section class=\"flex items-center justify-around\">\n      <div class=\"py-2\">\n        <table class=\"text-sm\">\n          <tr v-for=\"item in Object.keys(mainThemeResult)\" :key=\"item\">\n            <th class=\"border text-left px-3 py-1\">{{ item }}</th>\n            <td class=\"border text-left text-blue-400 px-3 py-1\">{{ verifyResult[item] }}</td>\n          </tr>\n          <tr v-if=\"Object.keys(proofAttribute).length > 0\">\n            <th colspan=\"2\" class=\"px-3 py-1 text-center border\">attributes</th>\n          </tr>\n          <tr v-for=\"item in Object.keys(proofAttribute)\" :key=\"item\">\n            <th class=\"text-left px-3 py-1 border\">{{ item }}</th>\n            <td class=\"text-left text-blue-400 px-3 py-1 border\">{{ proofAttribute[item] }}</td>\n          </tr>\n        </table>\n      </div>\n    </section>\n    <section class=\"mt-10 w-full mb-2 flex justify-around\">\n      <button\n        @click=\"backtoScan\"\n        class=\"w-1/3 bg-gray-700 focus:outline-none hover:bg-gray-900 text-white font-medium py-2 px-4 rounded\"\n      >Back</button>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport Login from \"@/api/Login.js\";\nimport Verification from \"@/api/Verification.js\";\nimport router from \"@/router\";\nexport default {\n  name: \"report\",\n  components: {},\n  setup() {\n    const loginModule = Login();\n    const verificationModule = Verification();\n    if (!loginModule.regainLoginUser()) {\n      router.push({\n        name: \"signIn\",\n      });\n    }\n    if (loginModule.userData.role === -1) {\n      console.error(\"login in success but not get role\");\n    }\n\n    if (verificationModule.verifyResult._id === \"\") {\n      router.push(\"/scan\");\n    }\n\n    if (Object.keys(verificationModule.verifyResult.proof).length === 0) {\n      router.push(\"/scan\");\n    }\n\n    const reportRole = ref(-1);\n    reportRole.value = loginModule.userData.role;\n    if (reportRole.value !== 2) {\n      router.push({\n        name: \"signIn\",\n      });\n    }\n\n    const backtoScan = () => {\n      router.push(\"/scan\");\n    };\n    return { ...verificationModule, backtoScan, reportRole };\n  },\n};\n</script>\n\n<style scoped lang=\"postcss\">\n.verifyContent {\n  min-height: 30vh;\n  width: 100%;\n}\n\n@media only screen and (min-width: theme(screens.sm)) {\n  .verifyContent {\n    width: 50%;\n  }\n}\n@media only screen and (min-width: theme(screens.ultra)) {\n  .verifyContent {\n    width: 40%;\n  }\n}\n</style>\n\n","import { render } from \"./VerifyReport.vue?vue&type=template&id=57bfffb5&scoped=true\"\nimport script from \"./VerifyReport.vue?vue&type=script&lang=js\"\nexport * from \"./VerifyReport.vue?vue&type=script&lang=js\"\n\nimport \"./VerifyReport.vue?vue&type=style&index=0&id=57bfffb5&scoped=true&lang=postcss\"\nscript.render = render\nscript.__scopeId = \"data-v-57bfffb5\"\n\nexport default script","export { default } from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VerifyReport.vue?vue&type=style&index=0&id=57bfffb5&scoped=true&lang=postcss\"; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VerifyReport.vue?vue&type=style&index=0&id=57bfffb5&scoped=true&lang=postcss\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VerifyReport.vue?vue&type=style&index=0&id=57bfffb5&scoped=true&lang=postcss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5f5d6120\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}