(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Scan"],{"05aa":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".qrcodepos[data-v-16b54ac2]{padding-left:50%}.qrcodepos div[data-v-16b54ac2]{transform:translateX(-50%)}.failinfo[data-v-16b54ac2]{border-radius:.25rem;--bg-opacity:1;background-color:#90cdf4;background-color:rgba(144,205,244,var(--bg-opacity));width:200px;height:200px}",""]),e.exports=t},"0be5":function(e,t,a){"use strict";a.r(t);var r=a("7a23"),n=Object(r["K"])("data-v-cb58ee50");Object(r["t"])("data-v-cb58ee50");var c={class:"scanContent sm:h-screen py-12 mt-10 sm:shadow-2xl sm:rounded mx-auto sm:bg-white"},i=Object(r["i"])("div",{class:"flex items-center px-6 py-4"},[Object(r["i"])("div",null,[Object(r["i"])("svg",{class:"boardloading stroke-current text-green-600",width:"100",viewBox:"0 0 100 100"},[Object(r["i"])("circle",{cx:"50",cy:"50",r:"25","stroke-dasharray":"157","stroke-dashoffset":"0","stroke-linecap":"round","stroke-width":"10",fill:"transparent"})])]),Object(r["i"])("div",{class:"ml-10"},"loading...")],-1);Object(r["r"])();var o=n((function(e,t){return Object(r["q"])(),Object(r["f"])("div",c,[(Object(r["q"])(),Object(r["f"])(r["b"],null,{default:n((function(){return[(Object(r["q"])(),Object(r["f"])(Object(r["y"])(e.showTypeRef)))]})),fallback:n((function(){return[i]})),_:1}))])})),s=a("5530"),d=a("399c"),b=(a("b64b"),Object(r["K"])("data-v-16b54ac2"));Object(r["t"])("data-v-16b54ac2");var f={key:0,class:"qrcodepos"},l={key:1,class:"failinfo"},u={key:1},p={class:"text-sm"},v={class:"text-left px-3 py-1"},j={class:"text-left text-blue-400 px-3 py-1"},O={key:0},y=Object(r["i"])("th",{colspan:"2",class:"text-center px-3 py-1"},"attributes",-1),h={class:"text-left px-3 py-1"},m={class:"text-left text-blue-400 px-3 py-1"},g={class:"text-center px-3 py-1",colspan:"2"};Object(r["r"])();var x=b((function(e,t){var a=Object(r["x"])("genqrcode");return Object(r["q"])(),Object(r["f"])("div",null,[""===e.verifyReturnData.verificationId&&0===e.verifyReturnData.policy.attributes.length?(Object(r["q"])(),Object(r["f"])("div",f,[""!==e.verifyQrcodeForUser?Object(r["i"])(a,{key:0,class:"qrcodeContent",qrStr:e.verifyQrcodeForUser,width:"200",height:"200"},null,8,["qrStr"]):(Object(r["q"])(),Object(r["f"])("div",l,"Qrcode generated fail"))])):(Object(r["q"])(),Object(r["f"])("div",u,[Object(r["i"])("table",p,[(Object(r["q"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(Object.keys(e.mainVerifyResult),(function(t){return Object(r["q"])(),Object(r["f"])("tr",{key:t},[Object(r["i"])("th",v,Object(r["A"])(t),1),Object(r["i"])("td",j,Object(r["A"])(e.mainVerifyResult[t]),1)])})),128)),e.verifyReturnData.policy.attributes.length>0?(Object(r["q"])(),Object(r["f"])("tr",O,[y])):Object(r["g"])("",!0),(Object(r["q"])(!0),Object(r["f"])(r["a"],null,Object(r["w"])(e.verifyReturnData.policy.attributes[0].attributeNames,(function(t){return Object(r["q"])(),Object(r["f"])("tr",{key:t},[Object(r["i"])("th",h,Object(r["A"])(t),1),Object(r["i"])("td",m,Object(r["A"])(e.verifyReturnData.proof[e.verifyReturnData.policy.attributes[0].policyName].attributes[t]),1)])})),128)),Object(r["i"])("tr",null,[Object(r["i"])("td",g,[Object(r["i"])("button",{onClick:t[1]||(t[1]=function(){return e.printVerify.apply(e,arguments)}),class:"bg-blue-500 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded"},"Print")])])])]))])})),w=(a("99af"),a("4160"),a("159b"),a("96cf"),a("1da1")),k=a("7b08"),q=a("3d0d"),I={name:"VerifyQrcode",components:{genqrcode:k["a"]},setup:function(){return Object(w["a"])(regeneratorRuntime.mark((function e(){var t,a,n,c,i,o,s,d,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(q["a"])(),a=t.tmpInterval,n=t.verifyQrcodeForUser,c=t.genQrcodeForUser,i=t.keepGetQrcodeInfo,o=Object(r["u"])({_id:"",verificationId:"",definitionId:"",state:"",createdAt:-1,updatedAt:-1,policy:{name:"",version:"",attributes:[]},proof:{}}),s=Object(r["d"])((function(){var e={};return Object.keys(o).forEach((function(t){"policy"!==t&&"proof"!==t&&(e[t]=o[t])})),e})),e.next=5,c();case 5:return d=e.sent,d.success&&(a.value=setInterval(Object(w["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i(n.value);case 2:t=e.sent,!0===t.success&&t.data&&t.data.step&&2===t.data.step&&t.data.verification&&(r=t.data.verification,o._id=r._id,o.verificationId=r.verificationId,o.definitionId=r.definitionId,o.state=r.state,o.createdAt=r.createdAt,o.updatedAt=r.updatedAt,o.policy=r.policy,o.proof=r.proof,clearInterval(a.value),a.value=null);case 4:case"end":return e.stop()}}),e)}))),800)),b=function(){if(o._id&&""!==o._id){var e=localStorage.getItem("covWebItem"),t=localStorage.getItem(e);window.location="raygate://a910/printer?verificationId=".concat(o._id,"&token=").concat(t)}},e.abrupt("return",{verifyReturnData:o,mainVerifyResult:s,verifyQrcodeForUser:n,genQrcodeForUser:c,keepGetQrcodeInfo:i,printVerify:b});case 9:case"end":return e.stop()}}),e)})))()}};a("b499");I.render=x,I.__scopeId="data-v-16b54ac2";var R=I,A=a("11d3"),_={name:"Scan",components:{scanqrcode:d["a"],verifyqrcode:R},setup:function(){var e=Object(A["a"])({initial:"scanqrcode",role:2});return Object(s["a"])({},e)}};a("a868");_.render=o,_.__scopeId="data-v-cb58ee50";t["default"]=_},"160a":function(e,t,a){var r=a("4f65");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("499e").default;n("33c6af8c",r,!0,{sourceMap:!1,shadowMode:!1})},"4f65":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".scanContent[data-v-cb58ee50]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.scanContent[data-v-cb58ee50]{width:90%}}@media only screen and (min-width:1400px){.scanContent[data-v-cb58ee50]{width:90%}}@keyframes Loading-cb58ee50{0%{stroke-dashoffset:0}75%{stroke-dashoffset:250}to{stroke-dashoffset:314}}@keyframes rotate-cb58ee50{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.boardloading[data-v-cb58ee50]{-webkit-animation:rotate-cb58ee50 .6s linear infinite;animation:rotate-cb58ee50 .6s linear infinite}.boardloading circle[data-v-cb58ee50]{-webkit-animation:Loading-cb58ee50 2.4s linear infinite;animation:Loading-cb58ee50 2.4s linear infinite}",""]),e.exports=t},"99af":function(e,t,a){"use strict";var r=a("23e7"),n=a("d039"),c=a("e8b5"),i=a("861d"),o=a("7b0b"),s=a("50c4"),d=a("8418"),b=a("65f0"),f=a("1dde"),l=a("b622"),u=a("2d00"),p=l("isConcatSpreadable"),v=9007199254740991,j="Maximum allowed index exceeded",O=u>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=f("concat"),h=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:c(e)},m=!O||!y;r({target:"Array",proto:!0,forced:m},{concat:function(e){var t,a,r,n,c,i=o(this),f=b(i,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?i:arguments[t],h(c)){if(n=s(c.length),l+n>v)throw TypeError(j);for(a=0;a<n;a++,l++)a in c&&d(f,l,c[a])}else{if(l>=v)throw TypeError(j);d(f,l++,c)}return f.length=l,f}})},a868:function(e,t,a){"use strict";a("160a")},b365:function(e,t,a){var r=a("05aa");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=a("499e").default;n("b869149e",r,!0,{sourceMap:!1,shadowMode:!1})},b499:function(e,t,a){"use strict";a("b365")}}]);
//# sourceMappingURL=Scan.eaa6dbec.js.map