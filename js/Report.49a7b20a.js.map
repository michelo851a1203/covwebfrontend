{"version":3,"sources":["webpack:///./src/components/ReportList.vue?9e34","webpack:///./src/views/home/Report.vue?0bea","webpack:///./src/views/home/Report.vue","webpack:///./src/components/ReportList.vue","webpack:///./src/components/ReportList.vue?aded","webpack:///./src/views/home/Report.vue?8100","webpack:///./src/components/ReportList.vue?7164","webpack:///./src/components/ReportList.vue?64a1","webpack:///./src/views/home/Report.vue?26bc","webpack:///./src/api/Credential.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/home/Report.vue?0484"],"names":["content","module","i","locals","exports","add","default","class","width","viewBox","cx","cy","r","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-width","fill","showTypeRef","fallback","for","Object","keys","report","credential","values","item","key","_id","qrStr","height","reportRole","displayName","backtoRecord","sendMailFunc","name","components","genqrcode","setup","loginModule","Login","credentialModule","Credential","regainLoginUser","router","push","value","userData","role","length","getUserDetail","sendMailApi","success","render","__scopeId","reportlist","scanqrcode","NavbarModule","Navbar","initial","___CSS_LOADER_API_IMPORT___","currentCredStatus","ref","title","status","attr","computed","credentialData","attributes","oData","map","id","config","uuid","issueData","sendToUserEmail","lock","getCredDefinition","console","error","CredentialModule","getCredentialDetail","response","defData","data","version","definitionId","schemaId","supportsRevocation","refillRecord","forEach","sendIssue","msg","validateEmail","sendCredential","responseData","updatedAt","username","wallet","sendMail","getUserCredential","detailData","navTag","closeCredentialAlert","normalCredentialAlert","setTimeout","clearCredentialReport","createdAt","credentialId","state","$","$map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","target","proto","forced","callbackfn","this","arguments","undefined"],"mappings":"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","file":"js/Report.49a7b20a.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ReportList.vue?vue&type=style&index=0&id=fd17bf06&scoped=true&lang=postcss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"04164026\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export { default } from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Report.vue?vue&type=style&index=0&id=8a1f64f4&scoped=true&lang=postcss\"; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Report.vue?vue&type=style&index=0&id=8a1f64f4&scoped=true&lang=postcss\"","<template>\n  <div class=\"reportContent py-12 sm:mt-12 sm:shadow-2xl sm:rounded mx-auto sm:bg-white\">\n    <suspense>\n      <template #default>\n        <component :is=\"showTypeRef\"></component>\n      </template>\n      <template #fallback>\n        <div class=\"flex items-center px-6 py-4\">\n          <div>\n            <svg\n              class=\"boardloading stroke-current text-green-600\"\n              width=\"100\"\n              viewBox=\"0 0 100 100\"\n            >\n              <circle\n                cx=\"50\"\n                cy=\"50\"\n                r=\"25\"\n                stroke-dasharray=\"157\"\n                stroke-dashoffset=\"0\"\n                stroke-linecap=\"round\"\n                stroke-width=\"10\"\n                fill=\"transparent\"\n              />\n            </svg>\n          </div>\n          <div class=\"ml-10\">loading...</div>\n        </div>\n      </template>\n    </suspense>\n  </div>\n</template>\n\n<script>\nimport Login from \"@/api/Login.js\";\nimport Navbar from \"@/api/Navbar.js\";\nimport reportlist from \"@/components/ReportList.vue\";\nimport scanqrcode from \"@/components/ScanQrcode.vue\";\nimport router from \"@/router\";\nexport default {\n  name: \"report\",\n  components: {\n    reportlist,\n    scanqrcode,\n  },\n  setup() {\n    const loginModule = Login();\n    const NavbarModule = Navbar({\n      initial: \"reportlist\",\n      role: 1,\n    });\n    if (!loginModule.regainLoginUser()) {\n      router.push({\n        name: \"signIn\",\n      });\n    }\n    return { ...NavbarModule };\n  },\n};\n</script>\n\n<style scoped lang=\"postcss\">\n.reportContent {\n  min-height: 30vh;\n  width: 100%;\n}\n\n@media only screen and (min-width: theme(screens.sm)) {\n  .reportContent {\n    width: 50%;\n  }\n}\n@media only screen and (min-width: theme(screens.ultra)) {\n  .reportContent {\n    width: 40%;\n  }\n}\n\n@keyframes Loading {\n  0% {\n    stroke-dashoffset: 0;\n  }\n\n  75% {\n    stroke-dashoffset: 250;\n  }\n\n  100% {\n    stroke-dashoffset: 314;\n  }\n}\n\n@keyframes rotate {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n.boardloading {\n  animation: rotate 0.6s linear infinite;\n}\n\n.boardloading circle {\n  animation: Loading 2.4s linear infinite;\n}\n</style>\n\n","<template>\n  <div>\n    <section class=\"flex flex-col sm:flex-row items-center sm:justify-around\">\n      <div class=\"order-2 sm:order-1 my-10 sm:py-2\">\n        <table class=\"text-sm\">\n          <tr v-for=\"item in Object.keys(report.credential.values)\" :key=\"item\">\n            <th class=\"text-left px-3 py-1\">{{ item }}</th>\n            <td class=\"text-left text-blue-400 px-3 py-1\">{{ report.credential.values[item] }}</td>\n          </tr>\n        </table>\n      </div>\n      <div class=\"order-1 sm:order-2\">\n        <genqrcode v-if=\"report._id !== ''\" :qrStr=\"report._id\" width=\"200\" height=\"200\"></genqrcode>\n      </div>\n    </section>\n    <section v-if=\"reportRole === 3\" class=\"text-center\">\n      <label for>VC test report will be sent to</label>\n      <label class=\"text-blue-400\">{{ report.displayName }}</label>\n    </section>\n    <section v-if=\"reportRole === 3\" class=\"w-full mt-10 mb-2 flex justify-around\">\n      <button\n        @click=\"backtoRecord\"\n        class=\"w-1/3 bg-gray-700 focus:outline-none hover:bg-gray-900 text-white font-medium py-2 px-4 rounded\"\n      >Back</button>\n      <button\n        @click=\"sendMailFunc\"\n        class=\"w-1/3 bg-green-700 focus:outline-none hover:bg-green-900 text-white font-medium py-2 px-4 rounded\"\n      >Confirm</button>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\nimport Login from \"@/api/Login.js\";\nimport genqrcode from \"@/components/GenQrcode.vue\";\nimport Credential from \"@/api/Credential.js\";\nimport router from \"@/router\";\nexport default {\n  name: \"components\",\n  components: {\n    genqrcode,\n  },\n  async setup() {\n    const loginModule = Login();\n    const credentialModule = Credential();\n    if (!loginModule.regainLoginUser()) {\n      router.push({\n        name: \"signIn\",\n      });\n    }\n\n    const reportRole = ref(-1);\n    reportRole.value = loginModule.userData.role;\n\n    const keys = Object.keys(credentialModule.report.credential.values);\n    if (keys.length === 0 && reportRole.value === 3) {\n      router.push(\"/\");\n    }\n\n    if (reportRole.value === 1) {\n      await credentialModule.getUserDetail();\n    }\n\n    const backtoRecord = () => {\n      router.push(\"/\");\n    };\n\n    const sendMailFunc = async () => {\n      const { success } = await credentialModule.sendMailApi();\n      if (success) {\n        router.push(\"/\");\n      }\n    };\n    return { ...credentialModule, backtoRecord, reportRole, sendMailFunc };\n  },\n};\n</script>\n\n<style scoped lang=\"postcss\">\n</style>","import { render } from \"./ReportList.vue?vue&type=template&id=fd17bf06&scoped=true\"\nimport script from \"./ReportList.vue?vue&type=script&lang=js\"\nexport * from \"./ReportList.vue?vue&type=script&lang=js\"\n\nimport \"./ReportList.vue?vue&type=style&index=0&id=fd17bf06&scoped=true&lang=postcss\"\nscript.render = render\nscript.__scopeId = \"data-v-fd17bf06\"\n\nexport default script","import { render } from \"./Report.vue?vue&type=template&id=8a1f64f4&scoped=true\"\nimport script from \"./Report.vue?vue&type=script&lang=js\"\nexport * from \"./Report.vue?vue&type=script&lang=js\"\n\nimport \"./Report.vue?vue&type=style&index=0&id=8a1f64f4&scoped=true&lang=postcss\"\nscript.render = render\nscript.__scopeId = \"data-v-8a1f64f4\"\n\nexport default script","export { default } from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ReportList.vue?vue&type=style&index=0&id=fd17bf06&scoped=true&lang=postcss\"; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ReportList.vue?vue&type=style&index=0&id=fd17bf06&scoped=true&lang=postcss\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Report.vue?vue&type=style&index=0&id=8a1f64f4&scoped=true&lang=postcss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d47b9466\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { ref, computed } from \"vue\"\nimport config from \"./request/config.js\"\nimport CredentialModule from \"./request/Credential.js\"\nimport report from \"./global/report.js\"\nimport credentialData from \"./global/credentialData.js\"\nimport navTag from \"@/api/global/navTag.js\"\n\nexport default function Credential() {\n\n    const currentCredStatus = ref({\n        title: \"\",\n        status: \"\",\n    });\n\n    const attr = computed(() => {\n        if (credentialData.attributes.length === 0) {\n            return [];\n        }\n        const oData = credentialData.attributes.map((item) => {\n            return {\n                id: config.uuid(),\n                title: item,\n            };\n        });\n        return oData;\n    })\n\n    const issueData = ref({\n        \"Test Result\": \"\"\n    })\n    const sendToUserEmail = ref(\"\")\n    const lock = ref(false)\n    const getCredDefinition = async () => {\n        if (credentialData.name !== \"\" && credentialData.attributes.length > 0) {\n            console.error(\"no credentialData.attributes or credentialData.name\");\n            return false\n        }\n        const response = await CredentialModule.getCredentialDetail()\n        if (!response || !response.success) {\n            console.error(\"getCredentialDetail error\");\n            return false\n        }\n        const defData = response.data\n\n        credentialData.name = defData.name\n        credentialData.version = defData.version\n        credentialData.definitionId = defData.definitionId\n        credentialData.schemaId = defData.schemaId\n        credentialData.supportsRevocation = defData.supportsRevocation\n        credentialData.attributes = defData.attributes\n        return true\n    }\n\n    const refillRecord = () => {\n        Object.keys(issueData.value).forEach(item => {\n            issueData.value[item] = \"\"\n        })\n        issueData.value[\"Test Result\"] = \"\"\n    }\n\n    const sendIssue = async () => {\n        if (sendToUserEmail.value === \"\") {\n            console.error(\"sendToUserEmails is empty\");\n            return {\n                success: false,\n                msg: \"User email required\"\n            }\n        }\n        if (credentialData.definitionId === \"\") {\n            console.error(\"definitionId is empty\");\n            return {\n                success: false,\n                msg: \"Not acquire definitionId\"\n            }\n        }\n        if (!issueData.value[\"Test Result\"] || issueData.value[\"Test Result\"] === \"\") {\n            return {\n                success: false,\n                msg: \"Pease choose Test Result\"\n            }\n        }\n        if (Object.keys(issueData.value).length === 0) {\n            console.error(\"issueData is empty\");\n            return {\n                success: false,\n                msg: \"Not fill content\"\n            }\n        }\n        if (!config.validateEmail(sendToUserEmail.value)) {\n            console.error(\"sendEmail is error\");\n            return {\n                success: false,\n                msg: \"Error email format\"\n            }\n        }\n        if (!lock.value) {\n            console.error(\"not accept to send\");\n            return {\n                success: false,\n                msg: \"Please check <Above Information is correct>\"\n            }\n        }\n\n        credentialData.attributes.forEach(item => {\n            if (!issueData.value[item]) {\n                issueData.value[item] = \"\"\n            }\n        })\n\n        currentCredStatus.value.title = \"Loading...\"\n        currentCredStatus.value.status = \"loading\"\n\n        const response = await CredentialModule.sendCredential(sendToUserEmail.value, credentialData.definitionId, issueData.value)\n        if (!response || !response.success) {\n            console.error(\"getCredentialDetail error\");\n            return {\n                success: false,\n                msg: \"請求返回失敗\"\n            }\n        }\n        const responseData = response.data\n\n        report.displayName = responseData.displayName\n        report.role = responseData.role\n        report.updatedAt = responseData.updatedAt\n        report.username = responseData.username\n        report.wallet = responseData.wallet\n        report._id = responseData._id\n        report.credential = responseData.credential\n        return {\n            success: true,\n            msg: \"Request failure\"\n        }\n    }\n\n    const sendMailApi = async () => {\n        const response = await CredentialModule.sendMail(report.credential._id)\n        if (!response || !response.success) {\n            console.error(\"sendMail error\");\n            return { success: false }\n        }\n        return { success: true }\n    }\n\n    const getUserDetail = async () => {\n        const response = await CredentialModule.getUserCredential()\n        if (!response || !response.success) {\n            console.error(\"getUserDetail error\");\n            return false\n        }\n        const detailData = response.data\n        report.updatedAt = detailData.updatedAt\n        report._id = detailData._id\n        report.credential.values = detailData.values\n        navTag.value = \"genQrcode\"\n    }\n\n    const closeCredentialAlert = () => {\n        currentCredStatus.value.title = \"\"\n        currentCredStatus.value.status = \"\"\n    }\n\n    const normalCredentialAlert = ({ title, status }) => {\n        currentCredStatus.value.title = title\n        currentCredStatus.value.status = status\n        setTimeout(() => {\n            currentCredStatus.value.title = \"\"\n            currentCredStatus.value.status = \"\"\n        }, 1500);\n    }\n\n    const clearCredentialReport = () => {\n        report.displayName = \"\"\n        report.role = \"\"\n        report.updatedAt = \"\"\n        report.username = \"\"\n        report.wallet = \"\"\n        report._id = \"\"\n        report.credential = {\n            createdAt: -1,\n            credentialId: \"\",\n            definitionId: \"\",\n            schemaId: \"\",\n            state: \"\",\n            updatedAt: \"\",\n            values: {}\n        }\n    }\n    return { navTag, currentCredStatus, report, credentialData, attr, issueData, sendToUserEmail, lock, getCredDefinition, sendIssue, refillRecord, sendMailApi, getUserDetail, closeCredentialAlert, normalCredentialAlert, clearCredentialReport }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".reportContent[data-v-8a1f64f4]{min-height:30vh;width:100%}@media only screen and (min-width:640px){.reportContent[data-v-8a1f64f4]{width:50%}}@media only screen and (min-width:1400px){.reportContent[data-v-8a1f64f4]{width:40%}}@keyframes Loading-8a1f64f4{0%{stroke-dashoffset:0}75%{stroke-dashoffset:250}to{stroke-dashoffset:314}}@keyframes rotate-8a1f64f4{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.boardloading[data-v-8a1f64f4]{-webkit-animation:rotate-8a1f64f4 .6s linear infinite;animation:rotate-8a1f64f4 .6s linear infinite}.boardloading circle[data-v-8a1f64f4]{-webkit-animation:Loading-8a1f64f4 2.4s linear infinite;animation:Loading-8a1f64f4 2.4s linear infinite}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}